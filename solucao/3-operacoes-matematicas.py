"""
Desafio: Opera√ß√µes Matem√°ticas Simples üìê
M√∫ltiplas implementa√ß√µes para c√°lculos matem√°ticos
Autor: Victor Lima e Claude 4 Sonnet
"""

import math

def solucao_basica():
    """
    Vers√£o 1: Opera√ß√µes b√°sicas simples
    Soma, subtra√ß√£o, multiplica√ß√£o e divis√£o
    """
    print("\nüîπ SOLU√á√ÉO B√ÅSICA")
    print("-" * 30)
    
    try:
        # Recebendo os n√∫meros
        num1 = float(input("Digite o primeiro n√∫mero: "))
        num2 = float(input("Digite o segundo n√∫mero: "))
        
        # Realizando opera√ß√µes b√°sicas
        soma = num1 + num2
        subtracao = num1 - num2
        multiplicacao = num1 * num2
        
        # Divis√£o com tratamento de zero
        if num2 != 0:
            divisao = num1 / num2
        else:
            divisao = "Indefinido (divis√£o por zero)"
        
        # Exibindo resultados
        print(f"\nResultados:")
        print(f"Soma: {num1} + {num2} = {soma}")
        print(f"Subtra√ß√£o: {num1} - {num2} = {subtracao}")
        print(f"Multiplica√ß√£o: {num1} √ó {num2} = {multiplicacao}")
        print(f"Divis√£o: {num1} √∑ {num2} = {divisao}")
        
    except ValueError:
        print("‚ùå Por favor, digite n√∫meros v√°lidos!")


def solucao_com_menu():
    """
    Vers√£o 2: Com menu de opera√ß√µes
    Usu√°rio escolhe qual opera√ß√£o realizar
    """
    print("\nüîπ SOLU√á√ÉO COM MENU")
    print("-" * 30)
    
    try:
        # Recebendo os n√∫meros
        num1 = float(input("Digite o primeiro n√∫mero: "))
        num2 = float(input("Digite o segundo n√∫mero: "))
        
        # Menu de opera√ß√µes
        print("\nüìã Escolha a opera√ß√£o:")
        print("1. Soma (+)")
        print("2. Subtra√ß√£o (-)")
        print("3. Multiplica√ß√£o (√ó)")
        print("4. Divis√£o (√∑)")
        print("5. Potencia√ß√£o (^)")
        print("6. M√≥dulo (%)")
        
        opcao = input("Digite sua op√ß√£o (1-6): ").strip()
        
        # Realizando a opera√ß√£o escolhida
        if opcao == "1":
            resultado = num1 + num2
            operacao = f"{num1} + {num2} = {resultado}"
        elif opcao == "2":
            resultado = num1 - num2
            operacao = f"{num1} - {num2} = {resultado}"
        elif opcao == "3":
            resultado = num1 * num2
            operacao = f"{num1} √ó {num2} = {resultado}"
        elif opcao == "4":
            if num2 != 0:
                resultado = num1 / num2
                operacao = f"{num1} √∑ {num2} = {resultado}"
            else:
                operacao = "‚ùå Erro: Divis√£o por zero!"
        elif opcao == "5":
            resultado = num1 ** num2
            operacao = f"{num1} ^ {num2} = {resultado}"
        elif opcao == "6":
            if num2 != 0:
                resultado = num1 % num2
                operacao = f"{num1} % {num2} = {resultado}"
            else:
                operacao = "‚ùå Erro: M√≥dulo por zero!"
        else:
            operacao = "‚ùå Op√ß√£o inv√°lida!"
        
        print(f"\n‚úÖ Resultado: {operacao}")
        
    except ValueError:
        print("‚ùå Por favor, digite n√∫meros v√°lidos!")


def solucao_robusta():
    """
    Vers√£o 3: Calculadora completa e robusta
    M√∫ltiplas opera√ß√µes, valida√ß√µes e funcionalidades extras
    """
    print("\nüîπ SOLU√á√ÉO ROBUSTA")
    print("-" * 30)
    
    try:
        # Recebendo e validando n√∫meros
        while True:
            try:
                num1 = float(input("Digite o primeiro n√∫mero: "))
                break
            except ValueError:
                print("‚ùå N√∫mero inv√°lido! Tente novamente.")
        
        while True:
            try:
                num2 = float(input("Digite o segundo n√∫mero: "))
                break
            except ValueError:
                print("‚ùå N√∫mero inv√°lido! Tente novamente.")
        
        # Realizando todas as opera√ß√µes
        operacoes = {}
        
        # Opera√ß√µes b√°sicas
        operacoes["Soma"] = num1 + num2
        operacoes["Subtra√ß√£o"] = num1 - num2
        operacoes["Multiplica√ß√£o"] = num1 * num2
        
        # Divis√£o com verifica√ß√£o
        if num2 != 0:
            operacoes["Divis√£o"] = num1 / num2
            operacoes["Divis√£o inteira"] = num1 // num2
            operacoes["M√≥dulo"] = num1 % num2
        else:
            operacoes["Divis√£o"] = "Indefinido (√∑0)"
            operacoes["Divis√£o inteira"] = "Indefinido (√∑0)"
            operacoes["M√≥dulo"] = "Indefinido (%0)"
        
        # Opera√ß√µes avan√ßadas
        operacoes["Potencia√ß√£o"] = num1 ** num2
        
        # Opera√ß√µes especiais
        if num1 >= 0:
            operacoes["Raiz quadrada do 1¬∫"] = math.sqrt(num1)
        else:
            operacoes["Raiz quadrada do 1¬∫"] = "Indefinido (‚àönegativo)"
        
        if num2 >= 0:
            operacoes["Raiz quadrada do 2¬∫"] = math.sqrt(num2)
        else:
            operacoes["Raiz quadrada do 2¬∫"] = "Indefinido (‚àönegativo)"
        
        # Compara√ß√µes
        operacoes["Maior n√∫mero"] = max(num1, num2)
        operacoes["Menor n√∫mero"] = min(num1, num2)
        operacoes["Diferen√ßa absoluta"] = abs(num1 - num2)
        
        # Exibindo resultados organizados
        print("\n" + "="*60)
        print(f"üßÆ CALCULADORA COMPLETA")
        print("="*60)
        print(f"üìä N√∫meros: {num1} e {num2}")
        print("-"*60)
        
        for nome, resultado in operacoes.items():
            if isinstance(resultado, float):
                if resultado.is_integer():
                    resultado = int(resultado)
                else:
                    resultado = round(resultado, 4)
            print(f"{nome:20} = {resultado}")
        
        print("="*60)
        
        # Informa√ß√µes extras
        print(f"\nüìà AN√ÅLISE ADICIONAL:")
        print(f"   ‚Ä¢ Soma dos quadrados: {num1**2 + num2**2}")
        print(f"   ‚Ä¢ M√©dia aritm√©tica: {(num1 + num2) / 2}")
        if num1 > 0 and num2 > 0:
            print(f"   ‚Ä¢ M√©dia geom√©trica: {math.sqrt(num1 * num2):.4f}")
        print(f"   ‚Ä¢ Produto: {num1 * num2}")
        
    except Exception as e:
        print(f"‚ùå Erro inesperado: {e}")


def calculadora_interativa():
    """
    Vers√£o 4: Calculadora interativa cont√≠nua
    Permite m√∫ltiplos c√°lculos em sequ√™ncia
    """
    print("\nüîπ CALCULADORA INTERATIVA")
    print("-" * 30)
    
    resultado_anterior = None
    
    while True:
        try:
            print(f"\n{'='*40}")
            print("üßÆ CALCULADORA INTERATIVA")
            if resultado_anterior is not None:
                print(f"üìä Resultado anterior: {resultado_anterior}")
            print("="*40)
            
            # Op√ß√£o de usar resultado anterior
            if resultado_anterior is not None:
                usar_anterior = input("Usar resultado anterior como primeiro n√∫mero? (s/n): ").lower().strip()
                if usar_anterior == 's':
                    num1 = resultado_anterior
                    print(f"Primeiro n√∫mero: {num1}")
                else:
                    num1 = float(input("Digite o primeiro n√∫mero: "))
            else:
                num1 = float(input("Digite o primeiro n√∫mero: "))
            
            # Segundo n√∫mero
            num2 = float(input("Digite o segundo n√∫mero: "))
            
            # Menu de opera√ß√µes
            print("\nüìã Opera√ß√µes dispon√≠veis:")
            operacoes_menu = {
                '+': 'Soma',
                '-': 'Subtra√ß√£o', 
                '*': 'Multiplica√ß√£o',
                '/': 'Divis√£o',
                '**': 'Potencia√ß√£o',
                '%': 'M√≥dulo',
                '//': 'Divis√£o inteira'
            }
            
            for simbolo, nome in operacoes_menu.items():
                print(f"   {simbolo:3} - {nome}")
            
            operador = input("\nDigite o operador: ").strip()
            
            # Realizando opera√ß√£o
            if operador == '+':
                resultado = num1 + num2
                operacao_str = f"{num1} + {num2}"
            elif operador == '-':
                resultado = num1 - num2
                operacao_str = f"{num1} - {num2}"
            elif operador == '*':
                resultado = num1 * num2
                operacao_str = f"{num1} √ó {num2}"
            elif operador == '/':
                if num2 != 0:
                    resultado = num1 / num2
                    operacao_str = f"{num1} √∑ {num2}"
                else:
                    print("‚ùå Erro: Divis√£o por zero!")
                    continue
            elif operador == '**':
                resultado = num1 ** num2
                operacao_str = f"{num1} ^ {num2}"
            elif operador == '%':
                if num2 != 0:
                    resultado = num1 % num2
                    operacao_str = f"{num1} % {num2}"
                else:
                    print("‚ùå Erro: M√≥dulo por zero!")
                    continue
            elif operador == '//':
                if num2 != 0:
                    resultado = num1 // num2
                    operacao_str = f"{num1} // {num2}"
                else:
                    print("‚ùå Erro: Divis√£o inteira por zero!")
                    continue
            else:
                print("‚ùå Operador inv√°lido!")
                continue
            
            # Formatando resultado
            if isinstance(resultado, float) and resultado.is_integer():
                resultado = int(resultado)
            elif isinstance(resultado, float):
                resultado = round(resultado, 6)
            
            print(f"\n‚úÖ {operacao_str} = {resultado}")
            resultado_anterior = resultado
            
            # Continuar?
            continuar = input("\nDeseja fazer outro c√°lculo? (s/n): ").lower().strip()
            if continuar != 's':
                break
                
        except ValueError:
            print("‚ùå Por favor, digite n√∫meros v√°lidos!")
        except KeyboardInterrupt:
            print("\n\nüëã Calculadora encerrada!")
            break


def comparar_operacoes():
    """
    Compara diferentes formas de realizar opera√ß√µes
    """
    print("\nüîÑ COMPARA√á√ÉO DE OPERA√á√ïES")
    print("="*50)
    
    try:
        # Coletando n√∫meros
        num1 = float(input("Digite o primeiro n√∫mero: "))
        num2 = float(input("Digite o segundo n√∫mero: "))
        
        print(f"\nüîç COMPARANDO OPERA√á√ïES COM: {num1} e {num2}")
        print("="*60)
        
        # Diferentes formas de potencia√ß√£o
        print("üî¢ POTENCIA√á√ÉO:")
        print(f"   Operador **: {num1} ** {num2} = {num1 ** num2}")
        print(f"   Fun√ß√£o pow(): pow({num1}, {num2}) = {pow(num1, num2)}")
        print(f"   Math.pow(): math.pow({num1}, {num2}) = {math.pow(num1, num2)}")
        
        # Diferentes formas de divis√£o
        if num2 != 0:
            print(f"\n‚ûó DIVIS√ÉO:")
            print(f"   Divis√£o real: {num1} / {num2} = {num1 / num2}")
            print(f"   Divis√£o inteira: {num1} // {num2} = {num1 // num2}")
            print(f"   M√≥dulo: {num1} % {num2} = {num1 % num2}")
        
        # Opera√ß√µes com math
        print(f"\nüìê FUN√á√ïES MATEM√ÅTICAS:")
        if num1 > 0:
            print(f"   log({num1}) = {math.log(num1):.4f}")
            print(f"   log10({num1}) = {math.log10(num1):.4f}")
        if num1 >= 0:
            print(f"   sqrt({num1}) = {math.sqrt(num1):.4f}")
        print(f"   abs({num1}) = {abs(num1)}")
        print(f"   ceil({num1}) = {math.ceil(num1)}")
        print(f"   floor({num1}) = {math.floor(num1)}")
        
    except ValueError:
        print("‚ùå N√∫meros inv√°lidos!")
    except Exception as e:
        print(f"‚ùå Erro: {e}")


def exibir_menu():
    """
    Exibe o menu principal com as op√ß√µes dispon√≠veis
    """
    print("\n" + "="*60)
    print("üìê OPERA√á√ïES MATEM√ÅTICAS SIMPLES - CALCULADORA")
    print("="*60)
    print("Escolha qual implementa√ß√£o deseja utilizar:")
    print()
    print("1Ô∏è‚É£  Solu√ß√£o B√°sica")
    print("    ‚îî‚îÄ Opera√ß√µes fundamentais (+, -, √ó, √∑)")
    print()
    print("2Ô∏è‚É£  Solu√ß√£o com Menu")
    print("    ‚îî‚îÄ Escolha a opera√ß√£o desejada")
    print()
    print("3Ô∏è‚É£  Solu√ß√£o Robusta")
    print("    ‚îî‚îÄ Calculadora completa com an√°lises")
    print()
    print("4Ô∏è‚É£  Calculadora Interativa")
    print("    ‚îî‚îÄ M√∫ltiplos c√°lculos em sequ√™ncia")
    print()
    print("5Ô∏è‚É£  Comparar Opera√ß√µes")
    print("    ‚îî‚îÄ Diferentes m√©todos de c√°lculo")
    print()
    print("6Ô∏è‚É£  Exemplos Pr√°ticos")
    print("    ‚îî‚îÄ Casos de uso interessantes")
    print()
    print("0Ô∏è‚É£  Sair")
    print("-" * 60)


def exemplos_praticos():
    """
    Demonstra casos de uso pr√°ticos
    """
    print("\nüéØ EXEMPLOS PR√ÅTICOS")
    print("="*50)
    
    exemplos = [
        (10, 3, "C√°lculos b√°sicos"),
        (25, 5, "N√∫meros que dividem exato"),
        (7, 0, "Divis√£o por zero"),
        (2, 8, "Pot√™ncias de 2"),
        (9, 0.5, "Raiz quadrada usando pot√™ncia"),
        (-5, 3, "N√∫meros negativos")
    ]
    
    for num1, num2, descricao in exemplos:
        print(f"\nüìù {descricao}: {num1} e {num2}")
        print(f"   Soma: {num1 + num2}")
        print(f"   Multiplica√ß√£o: {num1 * num2}")
        if num2 != 0:
            print(f"   Divis√£o: {num1 / num2:.2f}")
        else:
            print(f"   Divis√£o: Indefinido")
        print(f"   Pot√™ncia: {num1 ** num2}")
    
    # Calculadora de √°rea
    print(f"\nüè† CALCULADORA DE √ÅREA (Ret√¢ngulo):")
    try:
        largura = float(input("Digite a largura: "))
        altura = float(input("Digite a altura: "))
        area = largura * altura
        perimetro = 2 * (largura + altura)
        print(f"   √Årea: {area}")
        print(f"   Per√≠metro: {perimetro}")
    except ValueError:
        print("‚ùå Valores inv√°lidos!")


def main():
    """
    Fun√ß√£o principal que controla o fluxo do programa
    """
    while True:
        try:
            exibir_menu()
            opcao = input("Digite sua op√ß√£o: ").strip()
            
            if opcao == "1":
                solucao_basica()
            elif opcao == "2":
                solucao_com_menu()
            elif opcao == "3":
                solucao_robusta()
            elif opcao == "4":
                calculadora_interativa()
            elif opcao == "5":
                comparar_operacoes()
            elif opcao == "6":
                exemplos_praticos()
            elif opcao == "0":
                print("\nüëã Obrigado por usar a Calculadora!")
                print("üìê Continue praticando matem√°tica com Python! üöÄ")
                break
            else:
                print("\n‚ùå Op√ß√£o inv√°lida! Tente novamente.")
            
            # Pergunta se quer continuar (exceto para calculadora interativa)
            if opcao in ["1", "2", "3", "5", "6"]:
                continuar = input("\nDeseja testar outra solu√ß√£o? (s/n): ").lower().strip()
                if continuar != 's':
                    print("\nüëã Obrigado por usar a Calculadora!")
                    print("üìê Continue praticando matem√°tica com Python! üöÄ")
                    break
                    
        except KeyboardInterrupt:
            print("\n\nüëã Programa interrompido pelo usu√°rio!")
            break
        except Exception as e:
            print(f"\n‚ùå Erro inesperado: {e}")
            print("Tente novamente...")


if __name__ == "__main__":
    main()